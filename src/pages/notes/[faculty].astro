---
export async function getStaticPaths() {
  const faculties = ["bca", "bit", "csit", "bicte"]
  return faculties.map((faculty) => ({ params: { faculty } }))
}

import Container from "../../components/Container.astro"
import Layout from "../../layouts/Layout.astro"
import NavbarNotes from "../../components/NavbarNotes.astro"
const { faculty } = Astro.params

const facultyMap: Record<string, string> = {
  bca: "BCA",
  bit: "BIT",
  csit: "CSIT",
  bicte: "BICTE",
}
const facultyName =
  faculty && facultyMap[faculty] ? facultyMap[faculty] : "Unknown Faculty"

// Dynamic import of faculty JSON
let facultyData
try {
  facultyData = await import(`../../components/Data/notes-${faculty}.json`)
} catch (e) {
  facultyData = null
}
const info = facultyData?.default?.facultyInfo
---

<Layout
  title={`${facultyName} Information & Notes - BOSC`}
  description={`All information, eligibility, objectives, and notes for ${facultyName} at BOSC.`}
  image="https://bosc.org.np/cover.jpg"
  url={`https://bosc.org.np/notes/${faculty}`}
>
  <main class="space-y-20">
    <Container>
      <div class="flex flex-col md:flex-row">
        <NavbarNotes currentFaculty={faculty} />
        <div class="w-full px-4">
          <h1 class="text-3xl font-bold mb-6">{facultyName}</h1>
          {
            info && (
              <div class="space-y-6">
                {Array.isArray(info.salientFeatures) && (
                  <section class="bg-white rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2">Salient Features</h2>
                    <ul class="list-disc ml-6 text-gray-700">
                      {info.salientFeatures.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {Array.isArray(info.objectives) && (
                  <section class="bg-white rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2">Objectives</h2>
                    <ul class="list-disc ml-6 text-gray-700">
                      {info.objectives.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {Array.isArray(info.eligibility) && (
                  <section class="bg-white rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2">Eligibility</h2>
                    <ul class="list-disc ml-6 text-gray-700">
                      {info.eligibility.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {Array.isArray(info.jobProspects) && (
                  <section class="bg-white rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2">Job Prospects</h2>
                    <ul class="list-disc ml-6 text-gray-700">
                      {info.jobProspects.map((item: string) => (
                        <li>{item}</li>
                      ))}
                    </ul>
                  </section>
                )}
                {info.curricularStructure && (
                  <section class="bg-white rounded-lg shadow p-5">
                    <h2 class="text-xl font-semibold mb-2">
                      Curricular Structure
                    </h2>
                    <p class="text-gray-700">{info.curricularStructure}</p>
                  </section>
                )}
                {/* 
                  "courseDuration": "Eight semesters (four academic years)",
    "hoursOfInstruction": "90 working days/semester; theory+lab: 6 hrs/week; theory-only: 5 hrs/week.",
    "evaluation": "Theory: 20% internal, 80% external. Theory+lab: 20% internal, 20% lab, 60% external. Project/internship by multiple evaluators.",
    "grading": "Distinction: 80%+, First: 70%+, Second: 55%+, Pass: 40%+ (8 semester average)",
    "attendance": "80% in each course required.",
    "finalExam": "Conducted by Institute of Science and Technology, Tribhuvan University.",
                */}

                <section class="bg-white rounded-lg shadow p-5">
                  <h2 class="text-xl font-semibold mb-2">
                    Additional Information
                  </h2>
                  <ul class="list-disc ml-6 text-gray-700">
                    {info.courseDuration && (
                      <li>Course Duration: {info.courseDuration}</li>
                    )}
                    {info.hoursOfInstruction && (
                      <li>Hours of Instruction: {info.hoursOfInstruction}</li>
                    )}
                    {info.evaluation && <li>Evaluation: {info.evaluation}</li>}
                    {info.grading && <li>Grading: {info.grading}</li>}
                    {info.attendance && <li>Attendance: {info.attendance}</li>}
                    {info.finalExam && <li>Final Exam: {info.finalExam}</li>}
                  </ul>
                </section>
              </div>
            )
          }
        </div>
      </div>
    </Container>
  </main>
</Layout>
